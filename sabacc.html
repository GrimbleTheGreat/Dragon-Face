<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corellian Spike Sabacc</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
</head>

<body>

    <canvas id="confetti-canvas"></canvas>

    <main class="main-container">
        <div id="rules-box">
            <h2>Corellian Spike Rules</h2>
            <h3>Objective</h3>
            <p>Achieve a hand score of <strong>ZERO</strong> (Sabacc).</p>

            <h3>The Deck</h3>
            <ul>
                <li><span class="green-text">Green (Positive):</span> 1 to 10</li>
                <li><span class="red-text">Red (Negative):</span> -1 to -10</li>
                <li><strong>Sylop (Zero):</strong> The wild card.</li>
            </ul>

            <h3>Winning Hands (Ranked)</h3>
            <ol>
                <li><strong>Pure Sabacc:</strong> Two Sylops (Zeros).</li>
                <li><strong>Full Sabacc:</strong> 10, 10, -10, -10.</li>
                <li><strong>Fleet:</strong> Four of a Kind + Sylop.</li>
                <li><strong>Yee-Haa:</strong> Pair + Sylop.</li>
                <li><strong>Rhylet:</strong> Triple + Pair.</li>
                <li><strong>Squadron:</strong> Four of a kind.</li>
                <li><strong>Sabacc:</strong> Any hand summing to 0.</li>
                <li><strong>Nulrhek:</strong> Not zero (closest wins).</li>
            </ol>

            <h3>Turn Order</h3>
            <p>1. <strong>Bet:</strong> Check or Bet.</p>
            <p>2. <strong>Spike:</strong> Roll Dice. If doubles, hands are discarded!</p>
            <p>3. <strong>Action:</strong> Draw, Swap, or Stand.</p>

            <button id="back-button" onclick="window.location.reload()">Reset Game</button>
        </div>

        <div id="game-container">
            <button id="multiplayer-btn">Play Online</button>

            <div id="network-controls" style="display: none;">
                <div id="host-info">Your Code: <span id="player-id">Generating...</span></div>
                <div id="join-info">
                    <input type="text" id="join-id-input" placeholder="Enter Friend's Code">
                    <button id="join-btn">Join</button>
                </div>
            </div>

            <div id="game-header">
                <h1>Corellian Spike</h1>
                <div id="pot-display">Pot: <span id="pot-amount">0</span> Credits</div>
            </div>

            <div id="status-display">Waiting for player...</div>

            <div id="opponent-area" class="player-zone">
                <div id="opponent-hand" class="hand"></div>
                <div class="player-label">Opponent</div>
            </div>

            <div id="table-center">
                <div id="deck-pile" class="card-pile">Deck</div>
                <div id="discard-pile" class="card-pile">Discard</div>
                <div id="dice-area">
                    <div class="die" id="die-1">?</div>
                    <div class="die" id="die-2">?</div>
                </div>
            </div>

            <div id="player-area" class="player-zone">
                <div id="player-hand" class="hand"></div>
                <div class="player-label">You (<span id="player-score">0</span>)</div>
            </div>

            <div id="action-bar" class="hidden">
                <button id="btn-draw" class="action-btn">Draw</button>
                <button id="btn-swap" class="action-btn">Swap (Discard)</button>
                <button id="btn-stand" class="action-btn">Stand</button>
                <button id="btn-call" class="action-btn special">Call Hand</button>
            </div>
        </div>
    </main>

    <script src="confetti.js"></script>
    <script src="script.js"></script>

</body>

</html>